<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
　<title>グラフ</title> 
  <style>
    .bk1{
      background: linear-gradient(to right, rgba(41, 177, 204,1), rgba(41, 177, 204, 0.6));
    }
  </style>
</head>
<body>
  <div style="min-width:480px;margin:auto;">

  <section>
    <h1>折れ線グラフ 180点</h1>
    <div class="bk1">
    <canvas id="myLineChart"></canvas>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js"></script>

    <script>
    
    function mkOpt(labels, data){

      var maps = {
        "0": "0",
        "20" : "MR4.0   0.001%",
        "40" : "MR4.5  0.0032%",
        "60" : "MR5.0    0.01%",
        "80" : "Major MR  0.1%",
        "100" : "20%",
        "120" : "40%",
        "140" : "50%",
        "160" : "80%",
        "180" : "100%",
      }

      return {
        plugins: [{
        //    beforeDraw: drawBackground
        }],
        type: 'line',
        data: {
          labels: labels, //['2020/07/01', '2020/08/01', '2020/09/01', '2020/10/01', '2020/11/01', '2020/12/01'],
          datasets: [
            {
              label: '',
              data: data, // [20, 80, 30, 100, 120, 60],
              borderColor: "rgba(255,255,255,1)",
              backgroundColor: "rgba(0,0,0,0)",
              borderWidth: 2,
              lineTension: 0,
              pointBackgroundColor: "rgba(255,255,255, 0.9)",
              pointBorderWidth: 5,
              spanGaps: true,
            }
          ],
        },
        options: {
          legend:{
            display:false
          },
          title: {
            display: false,
            text: 'RQ-PCR法のグラフ確認'
          },

          scales: {
            yAxes: [{
                ticks: {
                    max: 200,
                    fontColor:"#ffffff",
                    beginAtZero: true,
                    callback: function(label, index, labels){
                      //console.log(label)
                      return maps[String(label)];
                    },
                    fontFamily: "sans-serif",
                    padding: 10,
                    fontSize: 24
                },
              gridLines:{
                color: "rgba(255,255,255,0.5)",
                drawBorder: false,
                zeroLineColor: "#ffffff"
              },
              scaleLabel: {   
                fontColor:"#ffffff",
                fontFamily: "sans-serif",
                fontSize: 24 
              }
            }],
            xAxes: [{
              drawBorder: false,
              gridLines:{
                color: "rgba(0,0,0,0)",
                display:false,
                drawBorder: false,
                zeroLineColor: "#ffffff"
              },
              scaleLabel:{
                fontFamily: "sans-serif",
                fontColor:"#ffffff",
                fontSize: 24 
              },
              ticks: {
                fontSize: 24 ,
                fontFamily: "sans-serif",
                /*
                callback: function(value, index, values) {
                  console.log(index)
                  return value
                },
                */
                fontColor:"#ffffff",
                maxRotation: 0,
                minRotation: 0,
                autoSkip: true,
                maxTicksLimit: 6
              },
            }]
          }
          
        }
      }
    }


    window.addEventListener('load', function(){

      var ctx = document.getElementById("myLineChart");


      var labels = [];
      var data = [];
      for(var i=0; i<=180; i++){
        data.push( Math.ceil( Math.random() * 200));
        labels.push('2020/'+ ("0" + (Math.ceil(i/30) + 1) ).slice(-2) +'')
      }


      var myLineChart = new Chart(ctx, mkOpt(labels, data));
    })

    </script>
  </section>

<hr>

<section>
  <h1>折れ線グラフ 90点</h1>
  <div class="bk1">
  <canvas id="myLineChart2"></canvas>
  </div>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js"></script>

  <script>
    
  window.addEventListener('load', function(){
    var ctx = document.getElementById("myLineChart2");


    var labels = [];
    var data = [];
    for(var i=0; i<=90; i++){
      data.push( Math.ceil( Math.random() * 200));
      labels.push('2020/'+ ("0" + (Math.ceil(i*3/30) + 1) ).slice(-2) +'')
    }

    var myLineChart = new Chart(ctx, mkOpt(labels, data));
  });
  </script>
</section>

<hr>

<section>
  <h1>折れ線グラフ 30点</h1>
  <div class="bk1">
  <canvas id="myLineChart3"></canvas>
  </div>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js"></script>

  <script>
    
  window.addEventListener('load', function(){
    var ctx = document.getElementById("myLineChart3");


    var labels = [];
    var data = [];
    for(var i=0; i<=30; i++){
      data.push( Math.ceil( Math.random() * 200));
      labels.push('2020/'+ ("0" + (Math.ceil(i*6/30) + 1) ).slice(-2) +'')
    }

    var myLineChart = new Chart(ctx, mkOpt(labels, data));
  });
  </script>
</section>



<hr>

<section>
  <h1>折れ線グラフ 3点</h1>
  
  <div class="bk1">
  <canvas id="myLineChart4"></canvas>
  </div>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js"></script>

  <script>
    
  window.addEventListener('load', function(){
  var ctx = document.getElementById("myLineChart4");


    var labels = [];
    var data = [];
    for(var i=0; i<=30; i++){
      if(13 == i || 17 == i || i == 23 ){
        data.push( Math.ceil( Math.random() * 200));
      }else{
        data.push( null );
      }
      labels.push('2020/'+ ("0" + (Math.ceil(i*6/30) + 1) ).slice(-2) +'')
    }

    var myLineChart = new Chart(ctx, mkOpt(labels, data));
  });
  </script>
</section>

<div style="margin-top:30%">&nbsp;</div>


</div>




</body>

</html>